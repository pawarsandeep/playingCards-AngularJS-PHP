<script src="../app/playing_cards.js"></script>
<div class="player-wrapper">
    <div class="controls">
        <div ng-click="ctrl.saveGame()" class="btn btn-success">Save</div>
        <div ng-click="ctrl.restartGame()" class="btn btn-primary" ng-if="ctrl.game.isCompleted">Restart</div>
    </div>
    <div class="col-sm-12">
        <!--<div dnd-list="cardsOnBoard">-->
        <div class="col-sm-2">
            <div dnd-list="ctrl.game.card_states.spades" class="card-holder" dnd-dragover="ctrl.checkDraggedCardOnSpades(index, external, type, callback)">
                Spade
                <div ng-repeat="card in ctrl.game.card_states.spades | orderBy:indexContainer"
                     ng-include="'/templates/card.html'"
                     dnd-draggable="card"
                     dnd-moved="ctrl.game.card_states.board[$index].length=0"
                     dnd-effect-allowed="move"
                     ng-class="selected" class="card-container">
                </div>
            </div>

            <div dnd-list="ctrl.game.card_states.diamonds" class="card-holder" dnd-dragover="ctrl.checkDraggedCardOnDiamonds(index, external, type, callback)">
                Diamond
                <div ng-repeat="card in ctrl.game.card_states.diamonds | orderBy:indexContainer"
                     ng-include="'/templates/card.html'"
                     dnd-draggable="card"
                     dnd-moved="ctrl.game.card_states.board[$index].length=0"
                     dnd-effect-allowed="move"
                     ng-class="selected" class="card-container"></div>
            </div>
        </div>
        <div class="col-sm-8 board">
        <div ng-repeat="card in ctrl.game.card_states.board | orderBy:'indexBoard'"
             ng-include="'/templates/card.html'"
             dnd-draggable="card"
             dnd-moved="ctrl.removeCardFromBoard($index)"
             dnd-effect-allowed="move"
             dnd-callback="card.card.suit"
             ng-class="selected" class="card-container">
        </div>
        </div>
        <!--</div>-->
        <div class="col-sm-2">
            <div dnd-list="ctrl.game.card_states.clubs" class="card-holder" dnd-dragover="ctrl.checkDraggedCardOnClubs(index, external, type, callback)">
                Club
                <div ng-repeat="card in ctrl.game.card_states.clubs"
                     ng-include="'/templates/card.html'"
                     dnd-draggable="card"
                     dnd-moved="ctrl.game.card_states.board[$index].length=0"
                     dnd-effect-allowed="move"
                     ng-class="selected" class="card-container">
                </div>
            </div>
            <div dnd-list="ctrl.game.card_states.hearts" class="card-holder" dnd-dragover="ctrl.checkDraggedCardOnHearts(index, external, type, callback)">
                Heart
                <div ng-repeat="card in ctrl.game.card_states.hearts | orderBy:indexContainer"
                     ng-include="'/templates/card.html'"
                     dnd-draggable="card"
                     dnd-moved="ctrl.game.card_states.board[$index].length=0"
                     dnd-effect-allowed="move"
                     ng-class="selected" class="card-container">
                </div>
            </div>
        </div>
    </div>
</div>